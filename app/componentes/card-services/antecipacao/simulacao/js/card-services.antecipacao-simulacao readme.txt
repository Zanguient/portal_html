# README #

Módulo que:
 - gerencia o layout da tela de Recebíveis Futuros de Cash Flow (app/componentes/card-services/cash-flow/recebiveis-futuros/index.html);

 
 
### Pra Que Serve Este Módulo? ###

Gerenciar completamente a tela de Recebíveis Futuros de Cash Flow.  



### O que é necessário para usar o módulo? ###

Como esse é um controller filho do controller principal "appCtrl" (app.js), ele herda todos os módulos importados por ele.
Não é necessário nenhum outro módulo externo.

 
### Outras depêndencias ###

  * Evento "mudancaDeRota", proveniente do "appCtrl", para de fato modificar a rota/estado
  * $scope.token do "appCtrl"
  * Emite evento "acessouTela" no init do controller para que seja feito o log de acesso de tela
  * Evento "acessoDeTelaNotificado", proveniente do "appCtrl", para de fato exibir a tela e fazer requisições 
	=> importante para o log correto de requisições HTTP, ao qual identifica corretamente a (tela de) origem
  * $scope.grupoempresa, do "appCtrl" : grupo empresa informado pelo usuário na barra administrativa
  * Evento "alterouGrupoEmpresa", emitido pelo controller "appCtrl", para identificar a mudança do $scope.grupoempresa
  * APIS:
    - card/tbcontacorrente
	- card/tbcontacorrentetbloginadquirenteempresa
	- card/recebiveisfuturos
	
 
 
 ### Interação com a WEB API ###
 
  * card/cdContaCorrente
    - GET : listagem as contas correntes (coleção 2)
			[
			  { cdContaCorrente : int,
				cdGrupo : int,
				empresa : { nu_cnpj : string, 
							ds_fantasia : string, 
							filial : string ou null },
				banco : { Codigo : string, 
						  NomeExtenso : string},
				nrAgencia : string,
				nrConta : string,
				flAtivo : boolean,
				podeAtualizar : boolean
			  }
			]
			
   * card/tbcontacorrentetbloginadquirenteempresa
    - GET: Adquirentes associadas à conta (coleção 4)
			[
			  { cdAdquirente : int,
				nmAdquirente : string,
				stAdquirente : int,
			  }
			]
	
    * card/recebiveisfuturos	
	   - GET : dados relativos à busca de recebíveis futuros do grupo ou filial (coleção 0)
			[
			  {
			    competencia : string,
			    valorBruto : double,
			    valorDescontado : double,
			    valorLiquido : double,
			    adquirentes : [{ adquirente : string,
						   valorBruto : double,
						   valorDescontado : double,
						   valorLiquido : double,
						   bandeiras : [{  bandeira : string,
										   valorBruto : double,
										   valorDescontado : double,
										   valorLiquido : double
										}]
						 }]
			  } 
			]
			Envia no JSON a chave "Totais" com: "valorBruto", "valorDescontado", "valorLiquido" e "valorAntecipacaoBancaria" (todos double)
			
   

   
   
   
### Desenvolvedores ###

Deivid Marinho - deividgfmarinho@gmail.com